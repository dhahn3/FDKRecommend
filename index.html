<!doctype html>
<html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FDK Recommend</title>
<link rel="stylesheet" href="styles.css?v=52c"/>
</head><body>
<div id="app">
  <div id="side">
    <h1>FDK Recommend</h1>
    <div id="loadWarn" class="warn" style="display:block;margin-bottom:8px">HTML loaded (waiting for JS)…</div>
    <div class="card">
      <div class="small">Step 1 • Locate</div>
      <div class="btnrow">
        <select id="searchMode"><option>Address</option></select>
        <input id="q" placeholder="123 Main St, Frederick MD" style="flex:1"/>
        <button id="btnLocate">Locate</button>
      </div>
      <div class="small">Tip: Click on the map to set a manual incident point.</div>
    </div>
    <div class="card"><div class="small">Step 2 • ESZ</div><div class="small">Fire ESZ (Beat): <b id="esz">—</b></div></div>
    <div class="card">
      <div class="small">Step 3 • Incident</div>
      <label>Incident type</label>
      <select id="incident"></select>
      <div class="btnrow" style="margin-top:6px">
        <label class="small"><input id="mutualAid" type="checkbox" checked/> Mutual Aid</label>
        <button id="btnSelfTest" class="secondary">Self test</button>
      </div>
      <div class="btnrow" style="margin-top:6px">
        <button id="btnRec">Get recommendation</button>
      </div>
      <details style="margin-top:8px"><summary>Debug</summary><pre id="dbg" class="small"></pre></details>
    </div>
  </div>
  <div id="map"></div>
</div>
<script src="v51_app.js?v=52c" defer></script>
<script>
window.addEventListener('DOMContentLoaded', function(){
  setTimeout(function(){
    if(typeof window.boot !== 'function'){
      var w=document.getElementById('loadWarn'); if(w){w.textContent='Primary JS missing; loading app.js fallback…'}
      var s=document.createElement('script'); s.src='app.js?v=52c'; s.defer=true; document.body.appendChild(s);
    }
  }, 400);
});
</script>
</body></html>